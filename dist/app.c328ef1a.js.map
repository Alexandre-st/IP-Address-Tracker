{"version":3,"sources":["app.js"],"names":["api_key","URL","myIcon","L","icon","iconUrl","iconSize","iconAnchor","fetchIpAdress","fetch","then","response","json","ipAddress","resultIp","document","querySelector","innerText","ip","resultLocation","location","city","country","postalCode","resultTimezone","timezone","resultIsp","isp","latitude","lat","longitude","lng","marker","addTo","mymap","flyTo","search","addEventListener","evt","preventDefault","inputValue","value","map","setView","tileLayer","attribution","maxZoom","id","tileSize","zoomOffset","accessToken"],"mappings":"AAAA,IAAMA,OAAO,GAAG,kCAAhB;AACA,IAAIC,GAAG,iDAA0CD,OAA1C,CAAP;AACA,IAAME,MAAM,GAAGC,CAAC,CAACC,IAAF,CAAO;AACpBC,EAAAA,OAAO,EAAE,4BADW;AAEpBC,EAAAA,QAAQ,EAAM,CAAC,EAAD,EAAK,EAAL,CAFM;AAGpBC,EAAAA,UAAU,EAAI,CAAC,EAAD,EAAK,EAAL;AAHM,CAAP,CAAf;;AAMA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BC,EAAAA,KAAK,CAACR,GAAD,CAAL,CACCS,IADD,CACM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADd,EAECF,IAFD,CAEM,UAACG,SAAD,EAAe;AACnB;AAEA;AACA,QAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,CAAjB;AACAF,IAAAA,QAAQ,CAACG,SAAT,GAAqBJ,SAAS,CAACK,EAA/B;AAEA,QAAMC,cAAc,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,CAAvB;AACAG,IAAAA,cAAc,CAACF,SAAf,aAA8BJ,SAAS,CAACO,QAAV,CAAmBC,IAAjD,eAA0DR,SAAS,CAACO,QAAV,CAAmBE,OAA7E,cAAwFT,SAAS,CAACO,QAAV,CAAmBG,UAA3G;AAEA,QAAMC,cAAc,GAAGT,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,CAAvB;AACAQ,IAAAA,cAAc,CAACP,SAAf,GAA2B,SAASJ,SAAS,CAACO,QAAV,CAAmBK,QAAvD;AAEA,QAAMC,SAAS,GAAGX,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAAlB;AACAU,IAAAA,SAAS,CAACT,SAAV,GAAsBJ,SAAS,CAACc,GAAhC,CAdmB,CAgBnB;;AACA,QAAMC,QAAQ,GAAGf,SAAS,CAACO,QAAV,CAAmBS,GAApC;AACA,QAAMC,SAAS,GAAGjB,SAAS,CAACO,QAAV,CAAmBW,GAArC;AACA5B,IAAAA,CAAC,CAAC6B,MAAF,CAAS,CAACJ,QAAD,EAAWE,SAAX,CAAT,EAAgC;AAAC1B,MAAAA,IAAI,EAAEF;AAAP,KAAhC,EAAgD+B,KAAhD,CAAsDC,KAAtD;AACAA,IAAAA,KAAK,CAACC,KAAN,CAAY,CAACP,QAAD,EAAWE,SAAX,CAAZ,EAAmC,EAAnC;AACD,GAvBD;AAwBD,CAzBD,EA2BA;AAEA;;;AACA,IAAMM,MAAM,GAAGrB,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAf;AACAoB,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,UAACC,GAAD,EAAS;AACxCA,EAAAA,GAAG,CAACC,cAAJ;AACA,MAAMC,UAAU,GAAGzB,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCyB,KAAnD;AACAxC,EAAAA,GAAG,iDAA0CD,OAA1C,wBAA+DwC,UAA/D,CAAH;AACAhC,EAAAA,aAAa;AACd,CALD,GAOA;;AACA,IAAM0B,KAAK,GAAG/B,CAAC,CAACuC,GAAF,CAAM,OAAN,EAAeC,OAAf,CAAuB,CAAC,MAAD,EAAS,CAAC,IAAV,CAAvB,EAAwC,EAAxC,CAAd;AACExC,CAAC,CAACyC,SAAF,CAAY,oKAAZ,EAAkL;AAClLC,EAAAA,WAAW,EAAE,0JADqK;AAElLC,EAAAA,OAAO,EAAE,EAFyK;AAGlLC,EAAAA,EAAE,EAAE,oBAH8K;AAIlLC,EAAAA,QAAQ,EAAE,GAJwK;AAKlLC,EAAAA,UAAU,EAAE,CAAC,CALqK;AAMlLC,EAAAA,WAAW,EAAE;AANqK,CAAlL,EAOCjB,KAPD,CAOOC,KAPP","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const api_key = \"at_jX9101ryTipwYFz7Gt1q6gEYN9Y70\";\nlet URL = `https://geo.ipify.org/api/v1?apiKey=${api_key}`;\nconst myIcon = L.icon({\n  iconUrl: './images/icon-location.svg',\n  iconSize:     [46, 56], \n  iconAnchor:   [23, 56]\n});\n\nconst fetchIpAdress = () => {\n  fetch(URL)\n  .then(response => response.json())\n  .then((ipAddress) => {\n    // console.log(ipAddress);\n\n    // To create a list of the data to show\n    const resultIp = document.querySelector('.search-content-address p');\n    resultIp.innerText = ipAddress.ip;\n\n    const resultLocation = document.querySelector('.search-content-location p ');\n    resultLocation.innerText = `${ipAddress.location.city}, ${ipAddress.location.country} ${ipAddress.location.postalCode}`;\n\n    const resultTimezone = document.querySelector('.search-content-timezone p');\n    resultTimezone.innerText = \"UTC \" + ipAddress.location.timezone;\n\n    const resultIsp = document.querySelector('.search-content-isp p');\n    resultIsp.innerText = ipAddress.isp;\n\n    // To add to the map, the good information for the map and add the icon location\n    const latitude = ipAddress.location.lat;\n    const longitude = ipAddress.location.lng;\n    L.marker([latitude, longitude], {icon: myIcon}).addTo(mymap);\n    mymap.flyTo([latitude, longitude], 13);\n  });\n};\n\n// fetchIpAdress();\n\n// To search a new ip address\nconst search = document.querySelector('.search-arrow');\nsearch.addEventListener('click', (evt) => {\n  evt.preventDefault();\n  const inputValue = document.querySelector('input').value;\n  URL = `https://geo.ipify.org/api/v1?apiKey=${api_key}&ipAddress=${inputValue}`;\n  fetchIpAdress();\n});\n\n// To configure the map for the IP\nconst mymap = L.map('mapid').setView([51.505, -0.09], 13);\n  L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibXNoZWxsZXk5MSIsImEiOiJja256M3JhbHowMjFuMzNwOTE5ODN4enJpIn0.6WYBfIPtzcbjvfQ1Y9fP5A', {\n  attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n  maxZoom: 18,\n  id: 'mapbox/streets-v11',\n  tileSize: 512,\n  zoomOffset: -1,\n  accessToken: 'your.mapbox.access.token'\n}).addTo(mymap);\n"]}